// polyfills from govuk_frontend_toolkit
//= require vendor/polyfills/bind
//= require govuk/details.polyfill

//= require jquery
//= require jquery_ujs
//= require govuk/shim-links-with-button-role
//= require fingerprint2
//= require_tree .
//= require piwik

/*
    ignoring the piwik script from the bundle
    https://stackoverflow.com/questions/7602393/rails-3-1-sprockets-require-directives-is-there-a-way-to-exclude-particular-fi
*/
//= stub "piwik_idp_picker_tracking"

window.GOVUK.shimLinksWithButtonRole.init();

window.GOVUK.validation.init();
window.GOVUK.selectDocuments.init();
window.GOVUK.selectPhone.init();
window.GOVUK.willItWorkForMe.init();
window.GOVUK.feedback.init();
window.GOVUK.furtherInformation.init();
window.GOVUK.interstitialQuestion.init();
window.GOVUK.otherDocuments.init();
window.GOVUK.piwikEventsTracking.init();
window.GOVUK.details.init();

/*
 Example of how to add JavaScript A/B code
 */
//abTest({
//  experiment: 'clever_questions_v2',
//  control: {
//    route: window.GOVUK.selectPhone
//  },
//  alternatives: [
//    {name: 'variant', route: window.GOVUK.selectPhoneCleverQuestions}
//  ]
//})

abTest({
 experiment: 'short_questions_v2',
 control: {
   route: window.GOVUK.otherDocuments
 },
 alternatives: [
   {name: 'variant', route: window.GOVUK.otherDocumentsVariant}
 ]
})

$(function () {
  window.GOVUK.validation.attach();
  window.GOVUK.signin.attach();
  window.GOVUK.autoSubmitForm.attach();
  window.GOVUK.fingerprint.attach();
});


