//= require jquery
//= require jquery_ujs
//= require ga
//= require_tree .
//= require piwik
//= require govuk-frontend/govuk/all

/*
    ignoring the piwik script from the bundle
    https://stackoverflow.com/questions/7602393/rails-3-1-sprockets-require-directives-is-there-a-way-to-exclude-particular-fi
*/
//= stub "piwik_idp_picker_tracking"

window.GOVUK.validation.init();
window.GOVUK.selectDocuments.init();
window.GOVUK.selectDocumentsVariantC.init();
window.GOVUK.willItWorkForMe.init();
window.GOVUK.feedback.init();
window.GOVUK.furtherInformation.init();
window.GOVUK.interstitialQuestion.init();
window.GOVUK.piwikEventsTracking.init();
window.GOVUK.modalDialog.init();
window.GOVUK.piwikSecureCookie.init();

/*
 Example of how to add JavaScript A/B code
 */
//abTest({
//  experiment: 'clever_questions_v2',
//  control: {
//    route: window.GOVUK.selectPhone
//  },
//  alternatives: [
//    {name: 'variant', route: window.GOVUK.selectPhoneCleverQuestions}
//  ]
//})

$(function () {
  window.GOVUK.validation.attach();
  window.GOVUK.signin.attach();
  window.GOVUK.chooseCountry.attach();
  window.GOVUK.autoSubmitForm.attach();

  elementsToHide = document.getElementsByClassName("verify-js-show")
  for(i=0; i<elementsToHide.length; i++) { elementsToHide[i].classList.remove("verify-js-show"); }
  elementsToShow = document.getElementsByClassName("verify-js-hidden")
  for(i=0; i<elementsToShow.length; i++) { elementsToShow[i].style.display = "none"; }

});

